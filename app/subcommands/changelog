#!/bin/sh
# Description: Display the changelog as generated by git short logs, cut off at given revision
# Usage: [<COMPARISON_REVISION>]
# vim: ft=sh ts=4 sw=4 sts=4 noet
set -eu

# shellcheck source=app/lib/output.sh
. "$DAB/lib/output.sh"

# If a revision is not given the initial commit is used as the floor
rev="${1:-2cd1ee8}"

[ -z "${1:-}" ] || inform '↓ Previous version'

printf '%b\n' "$(tac /LOG | sed "/$rev/q" | tac)"

[ -z "${1:-}" ] || inform '↑ New version'
